%=====================================================================================================================================
% Package akkparskip by Igor Akkerman (c) 2004-2006
% Package providing a non empty paragraph skip with list and section environment corrections.
%
% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License (latest version).
%
% The latest version of this license can be found at
%     http://www.latex-project.org/lppl.txt
%
% This file may only be distributed together with the full 'AkkTeX' bundle.
%=====================================================================================================================================
\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\ProvidesPackage{akkparskip}[2006/12/09 by Igor Akkerman (c) 2004-2006 v1.4.2 Package providing a non empty paragraph skip with list and section environment corrections.]
%=====================================================================================================================================

\RequirePackage{akksection}

\makeatletter

\newlength \bigparskip

\newcommand \akk@layoutlist {%
    % ------------------------------------------------------------------------------
    % set default labelsep
    % (as set for the article class) 
    %
    \setlength   \labelsep     \akk@default@labelsep%
    % ------------------------------------------------------------------------------
    % set default labelwidth
    % (as set in size10.clo for the article class)
    %
    \setlength   \labelwidth    \leftmargin%
    \addtolength \labelwidth    {-\labelsep}%
    % ------------------------------------------------------------------------------
    % set default rightmargin
    %
    \setlength   \rightmargin   \akk@default@rightmargin%
    % ------------------------------------------------------------------------------
    % set default listparindent
    %
    \setlength   \listparindent \akk@default@listparindent%
    % ------------------------------------------------------------------------------
    % set default itemindent
    %
    \setlength   \itemindent    \akk@default@itemindent%
    % ------------------------------------------------------------------------------
    % set default topsep
    % (set it to the default topsep value of the article class
    %  minus the parskip since we don't need it before and after the list)
    %
    \setlength   \topsep        \akk@default@topsep%
    \addtolength \topsep        {-\parskip}%
    % ------------------------------------------------------------------------------
    % set default partopsep
    % (set it to our parskip value)
    %
    \setlength   \partopsep   \akk@default@partopsep%
    % ------------------------------------------------------------------------------
    % set default parsep
    % (set it to our parskip value)
    %
    \setlength   \parsep      \akk@default@parsep%
    % ------------------------------------------------------------------------------
    % set default itemsep
    % (set it to the default itemsep value minus the parsep since we don't need it)
    %
    \setlength   \itemsep     \akk@default@itemsep%
    \addtolength \itemsep     {-\parsep}%
    % ------------------------------------------------------------------------------
}

\let \akk@orig@listI   \@listI
\let \akk@orig@listi   \@listi
\let \akk@orig@listii  \@listii
\let \akk@orig@listiii \@listiii
\let \akk@orig@listiv  \@listiv
\let \akk@orig@listv   \@listv
\let \akk@orig@listvi  \@listvi

\newcommand \akk@default@listI {%
    \setlength \leftmargin \leftmargini%
    \akk@layoutlist%
}
\let \akk@default@listi \akk@default@listI
     
\newcommand \akk@default@listii {%
    \setlength \leftmargin \leftmarginii%
    \akk@layoutlist%
}
     
\newcommand \akk@default@listiii {%
    \setlength \leftmargin \leftmarginiii%
    \akk@layoutlist%
}
 
\newcommand \akk@default@listiv {%
    \setlength \leftmargin \leftmarginiv%
    \akk@layoutlist%
}

\newcommand \akk@default@listv {%
    \setlength \leftmargin \leftmarginv%
    \akk@layoutlist%
}

\newcommand \akk@default@listvi {%
    \setlength \leftmargin \leftmarginvi%
    \akk@layoutlist%
}

% --------------------------------------------------------------------------------------------------------------------------------------------------------------------

% original values of the article class
\newlength \akk@orig@parskip
\newlength \akk@orig@bigparskip
\newlength \akk@orig@parindent
\newlength \akk@orig@labelsep
\newlength \akk@orig@rightmargin
\newlength \akk@orig@listparindent
\newlength \akk@orig@itemindent
\newlength \akk@orig@topsep
\newlength \akk@orig@partopsep
\newlength \akk@orig@parsep
\newlength \akk@orig@itemsep

% default values of this style
\newlength \akk@default@parskip
\newlength \akk@default@bigparskip
\newlength \akk@default@parindent
\newlength \akk@default@labelsep
\newlength \akk@default@rightmargin
\newlength \akk@default@listparindent
\newlength \akk@default@itemindent
\newlength \akk@default@topsep
\newlength \akk@default@partopsep
\newlength \akk@default@parsep
\newlength \akk@default@itemsep

% get the original values of the article class
\setlength \akk@orig@parskip          \parskip
\setlength \akk@orig@bigparskip       \bigparskip
\setlength \akk@orig@parindent        \parindent
\setlength \akk@orig@labelsep         \labelsep
\setlength \akk@orig@rightmargin      \rightmargin
\setlength \akk@orig@listparindent    \listparindent
\setlength \akk@orig@itemindent       \itemindent
\setlength \akk@orig@topsep           \topsep
\setlength \akk@orig@partopsep        \partopsep
\setlength \akk@orig@parsep           \parsep
\setlength \akk@orig@itemsep          \itemsep

% set the actual default values of this style
\setlength \akk@default@parindent     \z@
\setlength \akk@default@parskip       {0.71125\baselineskip plus 2pt} % = 3mm bei 10pt
\setlength \akk@default@bigparskip    {2\baselineskip plus 2pt}
\setlength \akk@default@labelsep      \akk@orig@labelsep
\setlength \akk@default@rightmargin   \z@
\setlength \akk@default@listparindent \z@
\setlength \akk@default@itemindent    \z@
\setlength \akk@default@topsep        \akk@orig@topsep
\setlength \akk@default@partopsep     \akk@default@parskip
\setlength \akk@default@parsep        \akk@default@parskip
\setlength \akk@default@itemsep       \akk@orig@itemsep

\newcommand \akk@setoriginallengths {%
    \let       \@listI        \akk@orig@listI%
    \let       \@listi        \akk@orig@listi%
    \let       \@listii       \akk@orig@listii%
    \let       \@listiii      \akk@orig@listiii%
    \let       \@listiv       \akk@orig@listiv%
    \let       \@listv        \akk@orig@listv%
    \let       \@listvi       \akk@orig@listvi%
    \setlength \parskip       \akk@orig@parskip%
    \setlength \bigparskip    \akk@orig@bigparskip%
    \setlength \parindent     \akk@orig@parindent%
    \setlength \labelsep      \akk@orig@labelsep%
    \setlength \rightmargin   \akk@orig@rightmargin%
    \setlength \listparindent \akk@orig@listparindent%
    \setlength \itemindent    \akk@orig@itemindent%
    \setlength \topsep        \akk@orig@topsep%
    \setlength \partopsep     \akk@orig@partopsep%
    \setlength \parsep        \akk@orig@parsep%
    \setlength \itemsep       \akk@orig@itemsep%
}

\newcommand \akk@setdefaultlengths {%
    \let \@listI              \akk@default@listI%
    \let \@listi              \akk@default@listi%
    \let \@listii             \akk@default@listii%
    \let \@listiii            \akk@default@listiii%
    \let \@listiv             \akk@default@listiv%
    \let \@listv              \akk@default@listv%
    \let \@listvi             \akk@default@listvi%
    \setlength \parskip       \akk@default@parskip%
    \setlength \bigparskip    \akk@default@bigparskip%
    \setlength \parindent     \akk@default@parindent%
    \setlength \labelsep      \akk@default@labelsep%
    \setlength \rightmargin   \akk@default@rightmargin%
    \setlength \listparindent \akk@default@listparindent%
    \setlength \itemindent    \akk@default@itemindent%
    \setlength \topsep        \akk@default@topsep%
    \setlength \partopsep     \akk@default@partopsep%
    \setlength \parsep        \akk@default@parsep%
    \setlength \itemsep       \akk@default@itemsep%
    \akk@layoutlist%
}

\akk@setdefaultlengths

% big paragraph skip \bigparskip
\newcommand \bigpar {%
	\addtolength \bigparskip {-\parskip}%
	\unskip\vspace*{\bigparskip}%
	\par%
	\addtolength \bigparskip \parskip%
}

\makeatother
